{"ast":null,"code":"import * as liste from '../../assets/data/bd.json';\nimport { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../donnees.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction CommanderComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"div\");\n    i0.ɵɵelement(3, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtext(7, \" PRIX: \");\n    i0.ɵɵelementStart(8, \"h4\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 10)(12, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CommanderComponent_div_2_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const article_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.ajouterAuPanier(article_r3));\n    });\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵelement(14, \"i\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\")(16, \"h5\")(17, \"b\");\n    i0.ɵɵtext(18, \"Ajouter au panier\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementStart(20, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function CommanderComponent_div_2_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const article_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.retirerDuPanier(article_r3));\n    });\n    i0.ɵɵelementStart(21, \"div\");\n    i0.ɵɵelement(22, \"i\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\")(24, \"h5\")(25, \"b\");\n    i0.ɵɵtext(26, \"Retirer du panier\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const article_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", article_r3.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", article_r3.nom, \" de la marque \", article_r3.marque, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", article_r3.prix, \" CDN$\");\n  }\n}\nfunction CommanderComponent_div_8_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"h6\")(2, \"b\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const elem_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(elem_r8.nom);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" (id:\", elem_r8.id, \" , prix: \", elem_r8.prix, \" CDN$) \");\n  }\n}\nfunction CommanderComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 15)(2, \"h4\");\n    i0.ɵɵtext(3, \"Les articles ajout\\u00E9s au panier:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\");\n    i0.ɵɵtemplate(5, CommanderComponent_div_8_li_5_Template, 5, 3, \"li\", 2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \" Nom: \");\n    i0.ɵɵelement(8, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \" Prenom: \");\n    i0.ɵɵelement(12, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"label\");\n    i0.ɵɵtext(15, \" Nombre d'articles au panier: \");\n    i0.ɵɵelement(16, \"input\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelementStart(18, \"a\", 19)(19, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function CommanderComponent_div_8_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.payer());\n    });\n    i0.ɵɵelementStart(20, \"h5\")(21, \"b\");\n    i0.ɵɵtext(22, \" Payer\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.tabArticle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.prenom);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.nbrArticle);\n  }\n}\nfunction CommanderComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 22)(4, \"b\");\n    i0.ɵɵtext(5, \"Veuillez ajouter au moins une article au panier .\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let CommanderComponent = /*#__PURE__*/(() => {\n  class CommanderComponent {\n    //ajout des methodes\n    constructor(donneesService) {\n      this.donneesService = donneesService;\n      this.articles = liste.default;\n      this.nbrArticle = new FormControl(0);\n      this.name = new FormControl(''); // ajout form\n      this.prenom = new FormControl('');\n      this.nom = this.name;\n      this.tabArticle = [];\n    }\n    ajouterAuPanier(elem) {\n      this.nbrArticle.setValue(this.nbrArticle.value + 1);\n      this.aucun = false;\n      this.tabArticle[this.nbrArticle.value - 1] = elem;\n    }\n    retirerDuPanier(elem) {\n      let indice;\n      if (this.nbrArticle.value != 0) {\n        this.nbrArticle.setValue(this.nbrArticle.value - 1);\n        indice = this.chercher(elem);\n        for (let i = indice; i < this.tabArticle.length; i++) {\n          this.tabArticle[i] = this.tabArticle[i + 1];\n        }\n      }\n    }\n    chercher(elem) {\n      let i = 0;\n      let verif;\n      for (let i = 0; i < this.tabArticle.length; i++) {\n        if (this.tabArticle[i] == elem) verif = i;\n      }\n      return verif;\n    }\n    passerCommande() {\n      if (this.nbrArticle.value != 0) {\n        this.popup = true;\n        this.aucun = false;\n      }\n      this.verif();\n    }\n    verif() {\n      if (this.popup != true) {\n        this.aucun = true;\n      }\n    }\n    payer() {\n      this.donneesService.setNom(this.name.value);\n      this.donneesService.setPrenom(this.prenom.value);\n      this.donneesService.setNombre(this.nbrArticle.value);\n      this.donneesService.setTable(this.tabArticle);\n    }\n    ngOnInit() {}\n  }\n  CommanderComponent.ɵfac = function CommanderComponent_Factory(t) {\n    return new (t || CommanderComponent)(i0.ɵɵdirectiveInject(i1.DonneesService));\n  };\n  CommanderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CommanderComponent,\n    selectors: [[\"app-commander\"]],\n    decls: 10,\n    vars: 4,\n    consts: [[\"charset\", \"UTF-8\"], [1, \"container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"commande\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"erreur\", 4, \"ngIf\"], [1, \"items\"], [\"width\", \"200px\", \"alt\", \"article\", 3, \"src\"], [1, \"articles\"], [1, \"bouton\"], [\"id\", \"btn\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-shopping-cart\"], [\"id\", \"btn1\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-trash-o\"], [1, \"ajoutPan\"], [\"type\", \"text\", \"placeholder\", \"Entrez votre nom\", 3, \"formControl\"], [\"type\", \"text\", \"placeholder\", \"Entrez votre prenom\", 3, \"formControl\"], [\"type\", \"text\", 3, \"formControl\"], [\"routerLink\", \"/paiment\"], [1, \"erreur\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-exclamation-circle\"], [\"id\", \"text\"]],\n    template: function CommanderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"meta\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, CommanderComponent_div_2_Template, 27, 4, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function CommanderComponent_Template_button_click_4_listener() {\n          return ctx.passerCommande();\n        });\n        i0.ɵɵelementStart(5, \"h5\")(6, \"b\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(8, CommanderComponent_div_8_Template, 23, 4, \"div\", 5);\n        i0.ɵɵtemplate(9, CommanderComponent_div_9_Template, 6, 0, \"div\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.articles);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" Passer la commande (\", ctx.nbrArticle.value, \" articles)\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.popup);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.aucun);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlDirective],\n    styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center}.items[_ngcontent-%COMP%]{display:flex;width:500px}.bouton[_ngcontent-%COMP%]{width:250px;padding:10px}#btn[_ngcontent-%COMP%], #btn1[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.articles[_ngcontent-%COMP%]{text-align:center;justify-content:space-around;align-items:center;width:200px;height:200px;margin:20px;padding:25px}h4[_ngcontent-%COMP%]{color:red}input[_ngcontent-%COMP%]{width:500px;border-width:1px;border-color:#000;border-style:dotted;border-radius:15px;\\\\2212moz\\\\2212 border-radius:15px;display:block;margin:0 auto;text-align:center}.commande[_ngcontent-%COMP%]{justify-content:space-around;align-items:center;padding:25px}.erreur[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:350px;margin-left:auto;margin-right:auto;margin-top:20px;background-color:#f2e8e8;color:#c70505;height:75px;padding:15px}#text[_ngcontent-%COMP%]{width:250px}.ajoutPan[_ngcontent-%COMP%]{padding:10px}\"]\n  });\n  return CommanderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}